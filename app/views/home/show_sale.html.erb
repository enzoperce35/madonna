<% last_six =  @records.where.not(sales: 0).order(created_at: :desc).first(6) %>
<% no_sales =  @today.nil? || @today.sales.zero? %>

<% if no_sales %>
  <h4>No sales for today</h4>
<% else %>
  <h4>Today</h4>
<% end%>
    
<table class='table'>
  <thead>
    <tr>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <% unless no_sales %>
      <tr style="border: black;">
        <td><%= link_to @today.created_at.strftime('%b %e, %a'), show_record_path(@today), method: 'get' %></td>
        <td><h4><strong><%= @today.sales %></strong></h4></td>
      </tr>
    <% end %>
    
    <% last_six.each do |day| %>
      <tr>
        <td>
          <%= link_to day.created_at.strftime('%b %e, %a'), show_record_path(day), method: 'get' %><br>
        </td>
        <td>
          <%= day.sales %>
        </td>
      </tr>
    <% end %>
      <tr style="color:brown;">
        <td>average</td>
        <td><%= (last_six.pluck(:sales).sum / 6).round(2) %></td>
      </tr>
  </tbody>
</table>
